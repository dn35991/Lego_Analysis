<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="Lego Database.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="query browser pragmas structure" current="0"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="833"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="PartCategories" custom_title="0" dock_id="1" table="4,14:mainPartCategories"/><dock_state state="000000ff00000000fd0000000100000002000004a7000002e6fc0100000001fb000000160064006f0063006b00420072006f00770073006500310100000000000004a70000011100ffffff000004a70000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="BrickColours" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="39"/><column index="2" value="226"/><column index="3" value="54"/><column index="4" value="62"/></column_widths><filter_values><column index="1" value="pink"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Inventories" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="39"/><column index="2" value="59"/><column index="3" value="101"/></column_widths><filter_values><column index="0" value="18438"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="InventoryParts" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="0" mode="0"/></sort><column_widths><column index="1" value="87"/><column index="2" value="117"/><column index="3" value="63"/><column index="4" value="65"/><column index="5" value="64"/></column_widths><filter_values><column index="0" value="76"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="InventorySets" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="87"/><column index="2" value="70"/><column index="3" value="65"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="PartCategories" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="1" mode="1"/></sort><column_widths><column index="1" value="32"/><column index="2" value="300"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Parts" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="117"/><column index="2" value="300"/><column index="3" value="81"/></column_widths><filter_values><column index="0" value="8887"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Sets" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="85"/><column index="2" value="300"/><column index="3" value="42"/><column index="4" value="70"/><column index="5" value="78"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Themes" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="32"/><column index="2" value="257"/><column index="3" value="71"/></column_widths><filter_values><column index="1" value="modular"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="Most Coloured Brick Set*">/*
Created By: Dharrshanan
Created Date: 2024-10-12
Description: Which set uses the most of a specific colour bricks?
*/

-- Determines if the colour exists in the database
SELECT
	name AS &quot;Colour&quot;
FROM
	BrickColours
WHERE 
	name LIKE &quot;%Lavender%&quot;;


-- Determines which set has the most of a specific colour	
SELECT
	C.name AS &quot;Colour Name&quot;,
	S.name AS &quot;Set Name&quot;,
	S.set_num AS &quot;Set Number&quot;,
	S.year AS &quot;Set Release Year&quot;,
	SUM(IParts.quantity) AS &quot;Number of Bricks&quot;
FROM
	Sets AS S
INNER JOIN
	Inventories AS I
ON
	S.set_num = I.set_num
INNER JOIN
	InventoryParts AS IParts
ON 
	I.id = IParts.inventory_id
INNER JOIN
	BrickColours AS C
ON
	IParts.color_id = C.id
WHERE 
	IParts.color_id =
	(SELECT
		id
	FROM
		BrickColours
	WHERE 
		name = &quot;Lavender&quot;)
GROUP BY
	&quot;Set Name&quot;
ORDER BY
	&quot;Number of Bricks&quot; DESC
LIMIT 1;
</sql><sql name="Average Number of Parts per Set">/*
Created By: Dharrshanan
Created Date: 2024-10-13
Description: What are the top 5 themes that have the highest average parts per set?
*/

SELECT
	T.name AS &quot;Theme&quot;,
	ROUND(AVG(S.num_parts), 0) AS &quot;Average Number of Parts per Set&quot;
FROM
	Themes AS T
INNER JOIN
	Sets AS S
ON
	T.id = S. theme_id
GROUP BY
	&quot;Theme&quot;
ORDER BY
	&quot;Average Number of Parts per Set&quot; DESC
LIMIT 5;
</sql><sql name="Set with More Than Average Pieces per Set">/*
Created By: Dharrshanan
Created Date: 2024-10-13
Description: Which sets have more pieces than the average set?
*/
	
SELECT 
	S.name AS &quot;Set Name&quot;,
	S.set_num AS &quot;Set Number&quot;,
	T.name AS &quot;Theme Name&quot;,
	S.year AS &quot;Release Year&quot;,
	S.num_parts AS &quot;Number of Parts&quot;
FROM
	Sets AS S
INNER JOIN
	Themes AS T
ON
	S.theme_id = T.id
WHERE
	S.num_parts &gt; 
	(SELECT
		AVG(num_parts)
	FROM 
		Sets)
ORDER BY
	&quot;Number of Parts&quot; DESC;
</sql><sql name="Oldest Set with Red Parts">/*
Created By: Dharrshanan
Created Date: 2024-10-13
Description: What is the oldest set with the most number of red parts?
*/

SELECT	
	S.name AS &quot;Set Name&quot;,
	S.year AS &quot;Release Year&quot;,
	C.name AS &quot;Colour&quot;,
	SUM(IParts.quantity) AS &quot;Number of Parts&quot;
FROM
	Sets AS S
INNER JOIN
	Inventories AS I
ON
	S.set_num = I.set_num
INNER JOIN
	InventoryParts AS IParts
ON
	I.id = IParts.inventory_id
INNER JOIN
	BrickColours AS C
ON
	IParts.color_id = C.id
WHERE 
	C.name = &quot;Red&quot;
GROUP BY
	&quot;Set Name&quot;
ORDER BY
	&quot;Release Year&quot; ASC
LIMIT 1;
</sql><current_tab id="2"/></tab_sql></sqlb_project>
